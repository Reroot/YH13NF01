(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0/RM":function(e,t,n){},"214P":function(e,t,n){"use strict";n.d(t,"q",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"u",(function(){return y})),n.d(t,"p",(function(){return C})),n.d(t,"s",(function(){return T})),n.d(t,"g",(function(){return S})),n.d(t,"a",(function(){return O}));n("DW2E");var o={time:750,align:{top:0}},a={className:"ui-btn-line-primary"},i={className:"confirm-button ui-btn-line"},r={TAB_TEST_OUTPUT:"tab_test_output",TAB_TEST_INPUT:"tab_test_input",TAB_NONE:"tab_none"},s={CUSTOM:"custom",ALL:"all"},u=100,l=10,d=["pre","code","samp","kbd"],c="focus",p="blur",m="copy",f="context",h=[m,"cut","paste"],g=3,v={TAB_INDEX:{html:0,css:1,javascript:2},TAB_LIST:["question.design.html","question.design.css","question.design.js"],LANGUAGES:["html","css","javascript"],FILE_EXTENSIONS:{html:"html",css:"css",javascript:"js"}},b=500,y=100,C=3e3,T={MIN_TEXT_FIELD_LENGTH:20,MIN_TEXT_OVERFLOW:5,BLANK_SPACE_REGEX:/\{\s*blank\s*\}/gim},S={COUNTDOWN:"test:countdown"},O=Object.freeze(["php","swift","csharp"])},"ADy/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));var o=n("lSNA"),a=n.n(o),i={LOADING:"loading",LOADED:"loaded",ERROR:"error"},r={NONE:"none",SAVING:"saving",CLEARING:"clearing",SUCCESS:"success",ERROR:"error"};function s(e){var t;return t={},a()(t,r.NONE,{message:"",icon:""}),a()(t,r.SAVING,{message:e("actions.".concat(r.SAVING)),icon:"ui-icon-circle"}),a()(t,r.CLEARING,{message:e("actions.".concat(r.CLEARING)),icon:"ui-icon-circle"}),a()(t,r.SUCCESS,{message:e("actions.".concat(r.SUCCESS)),icon:"ui-icon-check-circle"}),a()(t,r.ERROR,{message:e("actions.".concat(r.ERROR)),icon:"ui-icon-cross-circle"}),t}},BXv2:function(e,t,n){},KLSP:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf");var o=n("lSNA"),a=n.n(o),i=(n("eM6i"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("DNiP"),n("ZaSc")),r=n("7fp8");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var u={QUESTION_LIST_VIEW:2,QUESTION_VIEW:3,FIRST_TYPE:5,BLUR:7,FOCUS:8,PASTE:9},l={questionId:"qid"};function d(e){var t=[],n=Object(r.b)("logActivity",{attemptId:e});function o(e,o,r){var u={eid:e,inserttime:r?new Date(Date.now()-r):new Date};if(o){var d=function(e){return Object.keys(e).reduce((function(t,n){return l[n]?(t[l[n]]=e[n],t):t}),{})}(o);u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d,{},u)}Object(i.e)({url:n,data:u,error:function(){t.push(u)}})}return o.getFailedEvents=function(){return t},o}},Ladd:function(e,t,n){},SL3F:function(e,t,n){},gtaC:function(e,t,n){},"m+7o":function(e,t,n){"use strict";n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V");var o=n("lSNA"),a=n.n(o),i=n("x6jA"),r=n("Bxx2");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={control:function(e){return u({},e,{boxShadow:"0px 3px 10px 0 rgba(0, 0, 0, 0.1)",backgroundColor:r.colorWhite,fontSize:r.fsContentL,borderBottom:"2px solid transparent",borderRadius:0,border:0})},placeholder:function(e){return u({},e,{color:r.colorShadeDark})}},d=u({},Object(i.a)(),{},l);t.a=d},oRIV:function(e,t,n){},"r+Hz":function(e,t,n){},xnU3:function(e,t,n){},yEi7:function(e,t,n){"use strict";n.r(t);n("HAE/"),n("WLL4"),n("jm62"),n("8+KV"),n("0l/t"),n("ioFf"),n("rGqo"),n("yt8O"),n("RW0V"),n("f3/d"),n("Z2Ku"),n("L9s1"),n("Tze0"),n("2Spj"),n("VRzm"),n("Btvt"),n("CX2u");var o=n("lwsE"),a=n.n(o),i=n("W8MJ"),r=n.n(i),s=n("a1gu"),u=n.n(s),l=n("Nsbk"),d=n.n(l),c=n("PJYZ"),p=n.n(c),m=n("7W2i"),f=n.n(m),h=n("lSNA"),g=n.n(h),v=n("cDcd"),b=n.n(v),y=n("vN+2"),C=n.n(y),T=n("bIS8"),S=n("ovno"),O=n("/MKj"),E=n("eHHv"),_=n("MrcO"),D=n("H59Z"),w=n("EfbJ"),I=n("msTz"),k=n("pVnL"),R=n.n(k),A=n("QILm"),P=n.n(A),j=(n("bWfx"),n("TSYQ")),L=n.n(j),N=n("Wwog"),q=n("Bxx2"),M=n("VlMD");n("Ladd");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var U=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"mounted",!1),g()(p()(n),"state",{TourComponent:null}),g()(p()(n),"memoizedGetSteps",Object(N.a)(n.getSteps)),g()(p()(n),"renderContent",(function(e){var t=n.props.steps[e.step-1];return b.a.createElement("div",{className:"tour__step"},t.heading&&b.a.createElement("h1",{className:"tour__step-heading"},t.heading),b.a.createElement("p",{className:"tour__step-content"},t.content))})),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,Object(M.r)().then((function(t){var n=t.default;e.mounted&&e.setState({TourComponent:n})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getSteps",value:function(e){var t=this;return e.map((function(e){e.content,e.heading;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},P()(e,["content","heading"]),{content:t.renderContent})}))}},{key:"render",value:function(){var e=this.state.TourComponent,t=this.props,n=t.className,o=t.isOpen,a=t.onClose,i=t.steps,r=P()(t,["className","isOpen","onClose","steps"]);return e?b.a.createElement(e,R()({disableInteraction:!0,maskSpace:5,className:L()("tour",n)},r,{steps:this.memoizedGetSteps(i),isOpen:o,onRequestClose:a,accentColor:q.colorPrimary})):null}}]),t}(v.Component);g()(U,"defaultProps",{className:""});var F=n("xNbf"),H=n("Ojj1"),K=n("214P");n("xnU3");function V(e,t,n,o){if(!e||!n)return null;var a=Object(H.j)(n);return a.length?{defaultView:o,functionName:t,datatypes:a}:null}var B=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"state",{customInputView:"visual",OutputComponent:F.a,InputComponent:F.a}),g()(p()(n),"getConfig",Object(N.a)(V)),g()(p()(n),"mounted",!1),g()(p()(n),"onInputViewChange",(function(e){n.setState({customInputView:e})})),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,Object(M.v)().then((function(t){var n=t.default;e.mounted&&e.setState({OutputComponent:n})})),Object(M.c)().then((function(t){var n=t.default;e.mounted&&e.setState({InputComponent:n})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"renderOutput",value:function(){var e=this.props,t=e.companyName,n=e.enableHiddenTestcaseReveal,o=e.liveStatus,a=e.outputData,i=e.questionType,r=e.t,s=e.useCustomInput,u=e.questionId,l=e.attemptId,d=e.unlockTestCase,c=e.handleRunTestCase,p=e.hideHiddenTestCase,m=this.state.OutputComponent;return b.a.createElement(m,{t:r,questionType:i,isCustomTestcase:s,liveStatus:o,outputData:a,companyName:t,enableHiddenTestcaseReveal:n,questionId:u,attemptId:l,unlockTestCase:d,handleRunTestCase:c,hideHiddenTestCase:p})}},{key:"renderInput",value:function(){var e=this.props,t=e.visualInputSupported,n=e.functionParams,o=e.customInput,a=e.functionName,i=e.onInputChange,r=this.state,s=r.InputComponent,u=r.customInputView,l=this.getConfig(t,a,n,u);return b.a.createElement(s,{initialValue:o,config:l,onChange:i,onViewChange:this.onInputViewChange})}},{key:"render",value:function(){var e;switch(this.props.currentTab){case K.c.TAB_TEST_OUTPUT:e=this.renderOutput();break;case K.c.TAB_TEST_INPUT:e=this.renderInput();break;default:return null}return b.a.createElement("div",{className:"d-flex flex-column coding-io-wrapper"},e)}}]),t}(v.Component),W=(n("mGWK"),n("rvZc"),n("9VmF"),n("DzJC")),G=n.n(W),z=n("EcEN"),Y=n("iiin"),X=n("OEX3"),J=n("eOGF"),Q=n("AGYi"),Z=n("JoEb"),$={FIRST_READONLY_TYPED:"frt",LANGUAGE_READONLY_TYPED:"lrt"},ee=n("kV2S"),te=n("m+7o");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=oe({},te.a,{control:function(){var e=te.a.control.apply(te.a,arguments);return oe({},e,{boxShadow:"none",fontSize:q.fsContent,minHeight:q.spaceL,border:"1px solid ".concat(q.colorShadeMedium),":hover":{borderColor:q.colorShadeMedium}})},option:function(){var e=te.a.option.apply(te.a,arguments);return oe({},e,{fontSize:q.fsContent,minHeight:q.spaceL})},dropdownIndicator:function(e,t){var n=te.a.dropdownIndicator(e,t);return n.color=q.colorTextDarkFaded,n.backgroundColor=q.colorWhite,n.borderColor="transparent",t.selectProps.menuIsOpen&&(n.transform="".concat(n.transform||""," rotate(180deg)")),n},indicatorsContainer:function(e){return oe({},e,{backgroundColor:"transparent"})}});n("BXv2"),n("oRIV");function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=!1,ue=500,le=100,de=function(e){function t(e){var n;a()(this,t),n=u()(this,d()(t).call(this,e)),g()(p()(n),"props",void 0),g()(p()(n),"state",void 0),g()(p()(n),"EditorComponent",void 0),g()(p()(n),"editor",void 0),g()(p()(n),"throttledSaveLanguageCode",void 0),g()(p()(n),"updateWindowDimensions",void 0),g()(p()(n),"wrapperRef",void 0),g()(p()(n),"layoutTimeout",void 0),g()(p()(n),"mounted",void 0),g()(p()(n),"customSetting",void 0),g()(p()(n),"storage",void 0),g()(p()(n),"generateFullCode",void 0),g()(p()(n),"memoizedGetToolbarItems",Object(N.a)(n.getToolbarItems)),g()(p()(n),"memoizedGetCustomSettingItems",Object(N.a)(n.getCustomSettingItems)),g()(p()(n),"handleSubmissionReset",(function(){var e=n.state.showSubmissionResetModal;n.setState({showSubmissionResetModal:!e})})),g()(p()(n),"handleSubmissionResetConfirm",(function(){var e=n.state,t=e.languageOptions,o=e.currentLanguage,a=n.props.submission,i={showSubmissionResetModal:!1};if(a){var r=o;o!==a.language&&(i.currentLanguage=a.language,i.modelUri="file:///lsp-".concat(Object(z.v1)()),r=a.language),i.languageOptions=re({},t,{lang_template:re({},t.lang_template,g()({},r,a.code))}),n.setState(i)}else n.setState(i)})),g()(p()(n),"onLanguageChange",(function(e,t){var o=n.props.onLanguageChange,a=n.state.languageOptions;t!==e&&(n.saveLanguageCode(t),o(e,t),n.setState(n.updateLanguageOptions(a,e)),Object(H.n)(H.a.LANG,e))})),g()(p()(n),"onCodeChange",(function(){var e=n.state.currentLanguage;(0,n.props.onCodeChange)(),n.throttledSaveLanguageCode(e)})),g()(p()(n),"onCodeDiff",(function(){var e=n.props.onViewDiff;e&&e(n.getDiffData())})),g()(p()(n),"onTourStart",(function(){var e=n.props.onTourStart;e&&e()})),g()(p()(n),"editorDidMount",(function(e){var t=n.props,o=t.editorDidMount,a=t.isSampleTest,i=t.showTour,r=t.attemptId,s=Object(Z.i)(r);n.layoutTimeout=setTimeout((function(){return n.adjustHeight()}),ue),n.editor=e,n.addEditorEventListeners(),o(e);var u=!!_.a.get(s);a&&i&&!u&&n.startTourAutomatically(s)})),g()(p()(n),"onPaste",(function(e){var t=n.props.onPaste;t&&t(n.editor.getModel().getValueInRange(e))})),g()(p()(n),"onKeyDown",(function(e){var t=n.props.onKeyDown;t&&t(e)})),g()(p()(n),"onHeadTailType",(function(){var e=n.state.currentLanguage;if(n.storage.set(n.getCurrentAutoSaveKey(e,$.LANGUAGE_READONLY_TYPED),1),!n.hasFirstReadOnlyTyped()){var t=n.props.onReadonlyFirstType;n.storage.set($.FIRST_READONLY_TYPED,1),t(n.getDiffData())}})),g()(p()(n),"onAnalytics",(function(e,t){var o=n.props.onAnalytics;if(o){var a=e.event_type,i=e.event_name,r=e.event_value,s=e.integer_event_value,u=e.metadata,l={attribute1:r};"number"==typeof s&&(l.attribute7=s),u&&(l.attribute2=JSON.stringify(u)),t&&(l.eventData=JSON.stringify(t)),o(a,i,l)}}));var o=e.editorConfig,i=e.languageTemplate,r=Object(J.l)()?600:window.innerHeight-70;return n.state={currentLanguage:"",settings:H.c,languageOptions:n.createLanguageOptions(o.languages,i),editorHeight:r,loaded:!1,modelUri:"",showSubmissionResetModal:!1},n.mounted=!1,n.EditorComponent={},n.throttledSaveLanguageCode=G()(n.saveLanguageCode.bind(p()(n)),3e3),n.wrapperRef=b.a.createRef(),n.updateWindowDimensions=G()(n.adjustHeight.bind(p()(n)),le),n.storage=_.a.createNamespace(o.autoSaveNamespace),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.updateWindowDimensions),this.loadModules()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,o=n.editorHeight,a=n.showSubmissionResetModal;if(n.loaded&&this.editor){var i=t.editorHeight,r=t.showSubmissionResetModal;if(o!==i){var s=this.editor.getPosition();this.editor.revealPositionInCenterIfOutsideViewport(s)}r&&!a&&this.editor.focus()}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.layoutTimeout&&clearTimeout(this.layoutTimeout),this.throttledSaveLanguageCode.flush(),window.removeEventListener("resize",this.updateWindowDimensions),this.updateWindowDimensions.cancel()}},{key:"createLanguageOptions",value:function(e,t){return{languages:e,lang_template:re({},t.code),lang_head_template:re({},t.head),lang_tail_template:re({},t.tail)}}},{key:"getToolbarItems",value:function(e,t){var n=!e,o=this.props.t,a={"data-balloon-pos":"down"},i=o("question.coding.reset_code");n?a["data-balloon"]=i:a.btnText=i;var r=[{type:b.a.createElement(Y.a,R()({key:"undo",disabled:n,Icon:T.HistoryIcon,className:"hr-monaco-editor-wrapper__reset-btn",onClick:this.handleSubmissionReset,"aria-label":i},a,Object(Q.a)({category:ee.b.QuestionDetailsPage,action:ee.a.Click,label:ee.c.ResetToLastSubmittedCode})))}];return t&&r.push({type:b.a.createElement(Y.a,R()({onClick:this.onTourStart,Icon:T.HelpIcon,"data-balloon-pos":"down","data-balloon":o("actions.start_tour"),"aria-label":o("actions.start_tour")},Object(Q.a)({category:ee.b.QuestionDetailsPage,action:ee.a.Click,label:ee.c.StartTour})))}),r}},{key:"getCustomSettingItems",value:function(e){var t=this.props.t,n=[];return e&&n.push({type:X.c,classList:"d-block view-diff-btn",text:t("actions.view_diff"),callback:this.onCodeDiff}),n}},{key:"loadModules",value:function(){var e=this;Object(M.n)().then((function(t){var n=t.withAnalytics,o=t.withSettings,a=t.withStatusBar,i=t.withModes,r=t.KrackJackEditor,s=t.registerAllAvailableLanguages,u=t.generateFullCode;if(e.mounted){Object(H.m)(e.props.assetPath);var l=e.state.languageOptions;e.EditorComponent=Object(E.a)(n,o,a,i)(r),e.generateFullCode=u,se||(s(),se=!0);var d=e.setUpSettings(),c=e.updateLanguageOptions(l),p=e.getCurrentLanguage();e.setState(re({settings:d},c,{loaded:!0})),Object(H.n)(H.a.LANG,p)}}))}},{key:"hasFirstReadOnlyTyped",value:function(){return 1===this.storage.get($.FIRST_READONLY_TYPED)}},{key:"hasFirstReadOnlyTypedForLang",value:function(e){var t=this.getCurrentAutoSaveKey(e,$.LANGUAGE_READONLY_TYPED);return 1===this.storage.get(t)}},{key:"getDiffData",value:function(){var e=this.state.currentLanguage,t=this.getOriginalStub();return re({modified:this.editor.getValue(),language:e},t)}},{key:"getOriginalStub",value:function(){var e=this.props.languageTemplate,t=this.state.currentLanguage,n=e.head[t],o=e.tail[t],a=e.code[t];return{original:this.generateFullCode(n,a,o),head:n,tail:o}}},{key:"adjustHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===e&&this.editor)this.editor.layout();else{var t=this.wrapperRef.current;if(t&&t.parentElement){var n=t.parentElement,o=n.getBoundingClientRect().height,a=t.querySelector(".editor-toolbar"),i=a?a.getBoundingClientRect().height:0,r=t.querySelector(".hr-monaco-editor-statusbar"),s=r?r.getBoundingClientRect().height:0,u=n.querySelector(".coding-question-footer"),l=u?u.getBoundingClientRect().height:0,d=o-(i+s+l);this.setState({editorHeight:d})}}}},{key:"getCode",value:function(){var e=this.state.currentLanguage,t=this.editor?this.editor.getValue():"";return this.hasFirstReadOnlyTypedForLang(e)?{code:t,language:e,head_tail_editable:!0}:re({},this.getParsedEditorData({code:t,language:e}),{head_tail_editable:!1})}},{key:"updateCurrentCode",value:function(e){var t=e,n=this.props.languageTemplate,o=this.state,a=o.languageOptions,i=o.currentLanguage,r=n.head[i],s=n.tail[i],u="",l="",d=t.startsWith("".concat(r,"\n")),c=t.endsWith("\n".concat(s));if(d&&c){var p=(t=t.substr(r.length)).lastIndexOf(s);t=t.substr(0,p).trim(),u=r,l=s,this.storage.set(this.getCurrentAutoSaveKey(i,$.LANGUAGE_READONLY_TYPED),0)}var m=re({},a,{lang_head_template:re({},a.lang_head_template,g()({},i,u)),lang_tail_template:re({},a.lang_tail_template,g()({},i,l)),lang_template:re({},a.lang_template,g()({},i,t))});this.setState({languageOptions:m})}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"startTourAutomatically",value:function(e){var t=this;setTimeout((function(){t.onTourStart(),_.a.set(e,!0)}),2e3)}},{key:"addEditorEventListeners",value:function(){this.editor.onDidPaste(this.onPaste),this.editor.onKeyDown(this.onKeyDown)}},{key:"getCurrentCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,o=n.submission,a=n.languageTemplate,i=this.getCurrentAutoSaveKey(e),r=this.storage.get(i),s="",u=!1;if(r)s=r;else if(t&&o){u=!0;var l=this.props.languageTemplate;if(o.head_tail_editable)s=o.code;else{var d=l.head[o.language],c=l.tail[o.language];s=Object(H.e)(o.code,d,c)}}else s=a.code[e];return{code:s,fromSubmission:u}}},{key:"getCurrentLanguage",value:function(){var e=this.props,t=e.submission,n=e.editorConfig,o=e.defaultLanguage,a=Object(H.d)(H.a.LANG);return t?t.language:a&&n.languages.includes(a)?a:n.languages.includes(o)?o:n.languages[0]}},{key:"getCurrentAutoSaveKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t?"-".concat(t):"";return"".concat(e).concat(n)}},{key:"saveLanguageCode",value:function(e){if(this.editor){var t=this.editor.getValue();this.props.isReadOnlyEditable&&this.hasFirstReadOnlyTypedForLang(e)||(t=this.getParsedEditorData({code:t,language:e}).code);var n=this.getCurrentAutoSaveKey(e);this.storage.set(n,t)}}},{key:"setUpSettings",value:function(){var e=H.a.THEME,t=H.a.TAB_SIZE,n=H.a.AUTO_COMPLETE,o=H.a.MODE;return re({},this.state.settings,{tabSize:Object(H.d)(t),theme:Object(H.d)(e),enableAutoComplete:Object(H.d)(n),mode:Object(H.d)(o)})}},{key:"getParsedEditorData",value:function(e){var t=e.code,n=e.language,o=this.props.languageTemplate,a=o.head[n],i=o.tail[n];return re({},e,{code:Object(H.e)(t,a,i)})}},{key:"updateLanguageOptions",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.props,i=a.submission,r=a.isReadOnlyEditable;o?(t=o,n=this.getCurrentCode(o)):(t=this.getCurrentLanguage(),n=this.getCurrentCode(t,!0)),e=re({},e,{lang_template:re({},e.lang_template,g()({},t,n.code))});var s=!1;return n.fromSubmission&&i?i.head_tail_editable&&(s=!0):r&&this.hasFirstReadOnlyTypedForLang(t)&&(s=!0),s&&(e.lang_head_template=re({},e.lang_head_template,g()({},t,"")),e.lang_tail_template=re({},e.lang_tail_template,g()({},t,""))),{languageOptions:e,currentLanguage:t,modelUri:"file:///lsp-".concat(Object(z.v1)())}}},{key:"renderEditor",value:function(){var e=this.props,t=e.options,n=e.editorConfig.showModes,o=e.attemptId,a=e.languageTemplate,i=e.isReadOnlyEditable,r=e.showTour,s=e.submission,u=e.t,l=this.EditorComponent,d=this.state,c=d.settings,p=c.tabSize,m=c.theme,f=c.enableAutoComplete,h=c.mode,g=d.languageOptions,v=d.currentLanguage,y=d.editorHeight,C=d.modelUri,T=a.head[v],S=a.tail[v];return b.a.createElement(l,{languageOnLeft:!0,enableHeadTailFolding:!0,showAutocompleteStatus:!0,autoCompleteClassName:"autocomplete-status",lspBaseUrl:"hrw.lsp.hackerrank.com",isReadonlyEditable:i,userId:o,modelUri:C,languageSelectStyles:ae,enableAutoComplete:f,itemsBeforeLanguageSelector:this.memoizedGetToolbarItems(s,r),mode:h,tabSize:p,theme:m,options:t,languageOptions:g,height:y,defaultLanguage:v,onLanguageChange:this.onLanguageChange,onChange:this.onCodeChange,onAnalytics:this.onAnalytics,editorDidMount:this.editorDidMount,onChangeSettings:H.n,showModes:n,showIntellisense:n,loaderComponent:F.a,customSetting:this.memoizedGetCustomSettingItems(i),onHeadTailType:this.onHeadTailType,originalHead:T,originalTail:S,lspDisabledLanguages:K.a,t:u})}},{key:"renderSubmissionResetConfirm",value:function(){if(!this.state.showSubmissionResetModal)return null;var e=this.props.t;return b.a.createElement(S.a,{open:!0,title:e("question.coding.confirm_reset"),size:"medium",cancelText:e("actions.cancel"),confirmText:e("actions.confirm"),onClose:this.handleSubmissionReset,onConfirm:this.handleSubmissionResetConfirm,onCancel:this.handleSubmissionReset},e("question.coding.confirm_reset_desc"))}},{key:"render",value:function(){var e=this.state.loaded,t=L()("candidate-site-editor","hr-monaco-editor-wrapper",{"candidate-site-editor--loaded":e});return b.a.createElement("div",{className:t,ref:this.wrapperRef},e?b.a.createElement(v.Fragment,null,this.renderEditor(),this.renderSubmissionResetConfirm()):b.a.createElement("div",{className:"d-flex justify-content-center align-items-center candidate-site-editor__loader"},b.a.createElement(F.a,null)))}}]),t}(v.Component);g()(de,"defaultProps",{submission:null,options:re({},H.b,{automaticLayout:!1}),defaultLanguage:"cpp",onCodeChange:C.a,editorDidMount:C.a,onLanguageChange:C.a,showTour:!1});var ce=de,pe=n("EY3D"),me=n("9kay"),fe=n("O766"),he=n("ADy/");n("gtaC");function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ve="monaco-diff-editor",be="".concat(ve,"--loading"),ye="".concat(ve,"--error"),Ce={ignoreTrimWhitespace:!1,minimap:{enabled:!1},contextmenu:!1,automaticLayout:!0,scrollBeyondLastLine:!1,renderWhitespace:!0},Te=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"wrapperRef",b.a.createRef()),g()(p()(n),"state",{loadStatus:he.a.LOADING}),g()(p()(n),"diffEditor",void 0),g()(p()(n),"originalModel",void 0),g()(p()(n),"modifiedModel",void 0),g()(p()(n),"originalMouseDownStub",void 0),g()(p()(n),"modifiedMouseDownStub",void 0),g()(p()(n),"mounted",!1),g()(p()(n),"focusTimeoutID",void 0),g()(p()(n),"handleKey",(function(e){var t=e.browserEvent||e,o=n.props.onDone;Object(D.c)(t)&&t.keyCode===D.d.enter&&(t.preventDefault(),t.stopPropagation(),o())})),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadEditor()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.loadStatus;n===t.loadStatus||n!==he.a.LOADED||this.createDiffEditor()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.focusTimeoutID&&clearTimeout(this.focusTimeoutID),D.a.unbind(["mod","enter"],this.handleKey),this.diffEditor.dispose(),this.originalModel.dispose(),this.modifiedModel.dispose()}},{key:"updateLoadStatus",value:function(e){this.mounted&&this.setState({loadStatus:e})}},{key:"loadEditor",value:function(){var e=this;Object(M.n)().then((function(){e.updateLoadStatus(he.a.LOADED)})).catch((function(){e.updateLoadStatus(he.a.ERROR)}))}},{key:"createDiffEditor",value:function(){if(this.wrapperRef.current){var e=window.monaco.editor,t=this.props,n=t.editorDidMount,o=t.diffData,a=t.options,i=t.readOnly;this.originalModel=e.createModel(o.original,"plaintext"),this.modifiedModel=e.createModel(o.modified,"plaintext"),this.diffEditor=e.createDiffEditor(this.wrapperRef.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ce,{},a,{readOnly:i})),this.diffEditor.setModel({original:this.originalModel,modified:this.modifiedModel}),this.addHandlers(),this.focusEditor(),n&&n(this.diffEditor)}}},{key:"addHandlers",value:function(){var e=this.diffEditor,t=e.modifiedEditor,n=e.originalEditor;t.onKeyDown(this.handleKey),n.onKeyDown(this.handleKey),this.originalMouseDownStub=n.onMouseDown(this.getMouseHandler(n)),this.modifiedMouseDownStub=t.onMouseDown(this.getMouseHandler(t)),D.a.bind(["mod","enter"],this.handleKey)}},{key:"getMouseHandler",value:function(e){var n=this;return function(){n.focusTimeoutID=setTimeout((function(){e.focus(),n.modifiedMouseDownStub.dispose(),n.originalMouseDownStub.dispose()}),t.FOCUS_DELAY)}}},{key:"focusEditor",value:function(){this.diffEditor.modifiedEditor.focus()}},{key:"render",value:function(){var e,t=this.state.loadStatus,n=t===he.a.LOADING,o=t===he.a.ERROR,a=L()(ve,(e={},g()(e,be,n),g()(e,ye,o),e));return b.a.createElement("div",{className:a},b.a.createElement("div",{ref:this.wrapperRef,className:"".concat(ve,"__container")}))}}]),t}(v.PureComponent);g()(Te,"FOCUS_DELAY",200),g()(Te,"defaultProps",{readOnly:!1,options:{}});n("SL3F");function Se(e){var t=e.diffData,n=e.onClose,o=e.onUpdate,a=e.t,i=b.a.useRef(null),r=a("actions.update");function s(){if(i.current){var e=i.current.modifiedEditor.getValue();e===t.modified?n():o(e)}else n()}return b.a.createElement(fe.a,{open:!0,alignment:"top",size:"large",theme:"theme-m",title:a("question.coding.diff_title"),modalClass:"diff-editor-modal",onClose:n},b.a.createElement("p",{className:"diff-editor-modal__instructions"},b.a.createElement(me.b,{i18nKey:"questionview:question.coding.diff_instruction",action:r},"You can copy/paste lines using ",b.a.createElement("kbd",{className:"diff-editor-modal__keyboard"},"Ctrl/Command + C")," and ",b.a.createElement("kbd",{className:"diff-editor-modal__keyboard"},"Ctrl/Command + V"),' from the Original Code(left) to the Modified Code(right). Click "',{action:r},'" to update your code.')),b.a.createElement("div",{className:"d-flex justify-content-between"},b.a.createElement("h3",{className:"diff-editor-modal__title"},a("question.coding.original_code")),b.a.createElement("h3",{className:"diff-editor-modal__title"},a("question.coding.modified_code"))),b.a.createElement(Te,{diffData:t,editorDidMount:function(e){i.current=e},onDone:s}),b.a.createElement("div",{className:"d-flex justify-content-end diff-editor-modal__actions"},b.a.createElement(X.d,{onClick:s},a("actions.update"))))}var Oe=n("QfwD"),Ee=n("ZaSc"),_e=n("7fp8");function De(e){var t=e.attemptId,n=e.questionId,o=e.testCaseIndex,a=e.compileTestId;return new Promise((function(e,i){Object(Ee.e)({url:Object(_e.b)("unlockTestCase",{attemptId:t,questionId:n,action:"reveal_testcase"}),data:{testcase_id:o},success:function(){(function(e){var t=e.attemptId,n=e.questionId,o=e.testCaseIndex,a=e.compileTestId;return Object(Ee.c)({url:Object(_e.b)("unlockTestCase",{attemptId:t,questionId:n,action:"testcase_data"}),data:{testcase_id:o,compile_test_id:a}})})({attemptId:t,questionId:n,testCaseIndex:o,compileTestId:a}).then((function(t){return e(t)})).catch((function(){return i()}))},error:function(){i()}})}))}var we,Ie=n("KLSP"),ke=n("sSFG"),Re=n("bSd7"),Ae=n("e6Ar"),Pe=(n("r+Hz"),we={},g()(we,K.c.TAB_TEST_OUTPUT,{i18nKey:"test_results",handler:"handleTestResultTab"}),g()(we,K.c.TAB_TEST_INPUT,{i18nKey:"custom_input",handler:"handleCustomInputTab"}),we),je=function(e){function t(e){var n;return a()(this,t),n=u()(this,d()(t).call(this,e)),g()(p()(n),"handleTestResultTab",void 0),g()(p()(n),"handleCustomInputTab",void 0),g()(p()(n),"handleTabChange",(function(e){(0,n.props.onTabChange)(e)})),g()(p()(n),"handleMenuSelect",(function(e){(0,n.props.onInputTypeChange)(e===K.d.CUSTOM)})),n.state={runTooltip:""},n.handleTestResultTab=n.handleTabChange.bind(p()(n),K.c.TAB_TEST_OUTPUT),n.handleCustomInputTab=n.handleTabChange.bind(p()(n),K.c.TAB_TEST_INPUT),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.props.t;this.setState({runTooltip:Object(D.b)()?e("keys.mac.run_code"):e("keys.others.run_code")})}},{key:"renderTabContent",value:function(e){var t=this.props,n=t.activeTab,o=t.t,a=Pe[e],i=a.i18nKey,r=a.handler,s=n===e;return b.a.createElement("li",{key:e,className:L()("d-flex justify-content-center align-items-center coding-question-footer__tab-item",{active:s}),onClick:this[r],role:"tab","aria-selected":s,onKeyDown:this[r]},o(i))}},{key:"renderTabs",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=K.c.TAB_TEST_OUTPUT,o=K.c.TAB_TEST_INPUT,a=[n];return t&&a.push(o),b.a.createElement("ul",{className:"d-flex coding-question-footer__tab-header",role:"tablist"},a.map((function(t){return e.renderTabContent(t)})))}},{key:"renderDropdownItem",value:function(e){var t,n=this.props,o=n.t,a=n.useCustomInput,i=e===K.d.CUSTOM,r=o(i?"custom_input":"all_testcases"),s=i?K.d.CUSTOM:K.d.ALL;return a===i&&(t=b.a.createElement("i",{className:"ui-icon-check"})),b.a.createElement(Ae.a.Item,{value:s},b.a.createElement("span",null,r),b.a.createElement("span",{className:"coding-question-footer__input-select-item__icon"},t))}},{key:"renderDropdown",value:function(){var e=this.props,t=e.disableRunCode,n=e.useCustomInput,o=e.t,a=b.a.createElement(X.c,{className:"coding-question-footer__input-select-handle",iconClass:"ui-icon-arrow-down-filled",disabled:t,"aria-label":o("question.coding.run_code_options")});return b.a.createElement(Ae.a,{theme:"dark",direction:"up-left",className:"coding-question-footer__input-select",title:a,onSelect:this.handleMenuSelect,selectedValue:n?K.d.CUSTOM:K.d.ALL,disabled:t},this.renderDropdownItem(K.d.CUSTOM),this.renderDropdownItem(K.d.ALL))}},{key:"render",value:function(){var e=this.props,t=e.disableSubmitCode,n=e.disableRunCode,o=e.onSubmitCode,a=e.onRunCode,i=e.submitButtonText,r=e.t,s=e.questionType,u=this.state.runTooltip,l=s===Re.b.DATABASE,d=!l;return b.a.createElement("div",{className:"d-flex coding-question-footer"},b.a.createElement("div",{className:"coding-question-footer__tab-wrapper"},this.renderTabs(d)),b.a.createElement("div",{className:"d-flex justify-content-end"},b.a.createElement("div",{className:"d-flex coding-question-footer__run"},b.a.createElement(X.c,{onClick:a,disabled:n,className:"coding-question-footer__run-code","data-balloon":u,"data-balloon-pos":"up"},r(l?"actions.run_query":"actions.run")),!l&&this.renderDropdown()),b.a.createElement(X.c,{className:"coding-question-footer__submit-btn",onClick:o,disabled:t},i)))}}]),t}(v.PureComponent);g()(je,"defaultProps",{disableRunCode:!1,disableSubmitCode:!1,useCustomInput:!1,activeTab:K.c.TAB_NONE});var Le=je;n("0/RM");function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"PureCodingQuestion",(function(){return Me})),n.d(t,"mapStateToProps",(function(){return xe}));var Me=function(e){function t(e){var n;a()(this,t),n=u()(this,d()(t).call(this,e)),g()(p()(n),"editorRef",b.a.createRef()),g()(p()(n),"pollingCompileTestTimeoutId",null),g()(p()(n),"firstTypeDone",void 0),g()(p()(n),"keyStrokesCount",void 0),g()(p()(n),"lastPastedText",void 0),g()(p()(n),"keydownTrackTimeoutID",void 0),g()(p()(n),"questionAlreadySeen",void 0),g()(p()(n),"handleForceSubmit",void 0),g()(p()(n),"testCasesCount",void 0),g()(p()(n),"compileTestXhr",void 0),g()(p()(n),"currentTimeLeft",void 0),g()(p()(n),"tourSteps",void 0),g()(p()(n),"handleCountdown",(function(e){var t=e.currentTimeLeft;n.currentTimeLeft=t})),g()(p()(n),"persistCustomInput",(function(){var e=n.props,t=e.attemptId,o=e.questionId,a=n.state.customInput,i=Object(Z.c)(t,o);_.a.set(i,a)})),g()(p()(n),"handleRunCode",(function(){var e=n.state,t=e.disableRunCode,o=e.useCustomInput,a=e.customInput;if(!t&&n.editorRef.current){var i=n.editorRef.current.getCode();n.resetOutputData();var r=n.props,s=r.attemptId,u=r.questionId,l=r.t;(function(e){var t=e.codeData.customtestcase?{}:{allcases:!0};return Object(Ee.e)({url:Object(_e.b)("compileAllTests",e),data:e.codeData,query:t})})({attemptId:s,questionId:u,codeData:qe({},i,{},o?{customtestcase:!0,custominput:a}:{})}).then((function(e){n.setState({liveStatus:Object(H.k)(l("live_status.uploaded"),n.testCasesCount)}),n.pollingCompileTestTimeoutId=setTimeout((function(){n.startPollingCompileTest(e.model.id)}),1e3*ke.i)})).catch((function(e){var t={liveStatus:{},disableRunCode:!1};if(e&&e.message)try{var o=JSON.parse(e.message);t.liveStatus=Object(H.k)(l("live_status.compiler_error",{error:o.error}))}catch(e){t.liveStatus=Object(H.k)(l("live_status.server_error"))}else t.liveStatus=Object(H.k)(l("live_status.upload_error"));n.setState(qe({},t))}))}})),g()(p()(n),"changeInputTypeAndRunCode",(function(e){var t=n.state.customInput;n.setState({useCustomInput:e&&!!t},n.handleRunCode)})),g()(p()(n),"handleRunTestCase",(function(e){var t=n.state.outputData,o=!0;t&&(o=t.isCustomTestcase);var a=n.state.customInput,i=e||a;n.setState({customInput:i,useCustomInput:!o},n.handleRunCode)})),g()(p()(n),"onInput",(function(e){n.updateCustomInputValue(e)})),g()(p()(n),"toggleSubmitCode",(function(){var e=n.state.disableSubmitCode;n.setState({disableSubmitCode:!e})})),g()(p()(n),"handleSubmitCode",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.editorRef.current){var t=n.props,o=t.questionData.type,a=t.questionId,i=t.saveAnswer,r=t.attemptId;"boolean"!=typeof e&&(e=!1);var s=_.a.get(Object(Z.g)(r,a)),u=n.currentTimeLeft<=ke.o;if(s||u||e){n.setState({disableSubmitCode:!0,showRunAllTestCaseAlertDialog:!1});var l=n.editorRef.current.getCode(),d={qid:a,qtype:o,answer:{answer:l,type:o}};i(d).finally(n.toggleSubmitCode)}else n.setState({showRunAllTestCaseAlertDialog:!0})}})),g()(p()(n),"onMainSplitSizeChange",(function(e,t){t!==n.state.leftPaneShrinked&&n.setState({leftPaneShrinked:t}),n.onPrimarySplitDragEnd()})),g()(p()(n),"onPrimarySplitDragEnd",n.adjustEditorLayout.bind(p()(n),!0)),g()(p()(n),"onCodingAreaSizeChange",n.adjustEditorLayout.bind(p()(n),!1)),g()(p()(n),"switchTab",(function(e){var t=n.state.customInput;n.setState({currentTab:e,useCustomInput:!!t,shouldAutoExpand:!0})})),g()(p()(n),"onCodeChange",(function(){var e=n.props.markAnswerDirty;n.firstTypeDone&&e(),n.setPingData()})),g()(p()(n),"onLeftPaneVerticalBarClick",(function(){n.setState({shouldRightPaneAutoCollapse:!0})})),g()(p()(n),"handleEditorPaste",(function(e){if(e!==n.lastPastedText&&(n.lastPastedText=e,!(e.length<=K.o))){var t=n.props,o=t.isSecure,a=t.activityLogger,i=t.questionId;o&&a(Ie.a.PASTE,{questionId:i})}})),g()(p()(n),"cancelKeyEvent",(function(e){e.preventDefault(),e.stopPropagation()})),g()(p()(n),"handleRunKey",(function(e){var t=n.state,o=t.showTour,a=t.diffData,i=e.browserEvent;if(!o&&!a){var r=i||e;Object(D.c)(r)&&r.keyCode===D.d.enter&&(n.cancelKeyEvent(e),n.handleRunCode())}})),g()(p()(n),"handleEditorKeyDown",(function(e){n.firstTypeDone=!0,n.incrementKeyStrokes(e),n.handleRunKey(e),n.questionAlreadySeen||n.keydownTrackTimeoutID||(n.keydownTrackTimeoutID=setTimeout((function(){n.keyStrokesCount<K.n?(n.keyStrokesCount=0,n.keydownTrackTimeoutID=null):n.sendFirstTypeEvent()}),1e3*ke.l))})),g()(p()(n),"onCloseRunAllTestCasesDialog",(function(){n.setState({showRunAllTestCaseAlertDialog:!1})})),g()(p()(n),"onViewDiff",(function(e){n.state.diffData||n.setState({diffData:e})})),g()(p()(n),"hideDiffModal",(function(){n.setState({diffData:null})})),g()(p()(n),"handleCodeUpdate",(function(e){var t=p()(n).editorRef.current;n.hideDiffModal(),t&&t.updateCurrentCode(e)})),g()(p()(n),"onReadonlyFirstType",(function(e){n.setState({showReadOnlyChangeModal:!0,diffData:e})})),g()(p()(n),"onReadonlyWarningClose",(function(){n.setState({diffData:null,showReadOnlyChangeModal:!1})})),g()(p()(n),"onReadonlyWarningCancel",(function(){n.setState({showReadOnlyChangeModal:!1})})),g()(p()(n),"onTourStart",(function(){n.setState({showTour:!0})})),g()(p()(n),"onTourClose",(function(){n.setState({showTour:!1})})),g()(p()(n),"trackEditorEvents",(function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.props.questionId;window.dataLayer.push({event:ee.d.HrMetrics,hrEventType:e,hrEventName:t,hrEventAttrs:qe({},o,{question_id:a})})}));var o,i=e.questionData,r=e.questionData.firstSampleInput,s=e.test.hideHiddenTestCase,l=e.currentTimeLeft,c=e.t;return n.state={customInput:r?r.trim():"",useCustomInput:!!r,liveStatus:{},currentTab:K.c.TAB_NONE,disableRunCode:!1,disableSubmitCode:!1,leftPaneShrinked:!1,outputData:null,shouldAutoExpand:!1,showRunAllTestCaseAlertDialog:!1,shouldRightPaneAutoCollapse:!1,diffData:null,showReadOnlyChangeModal:!1,showTour:!1},n.firstTypeDone=!1,n.keyStrokesCount=0,n.lastPastedText="",n.questionAlreadySeen=!1,n.currentTimeLeft=l,n.handleForceSubmit=n.handleSubmitCode.bind(p()(n),!0),n.testCasesCount=Object(H.h)(i,s),n.tourSteps=(o={t:c}.t,[{selector:".question-tab__timer",position:"right",key:"timer"},{selector:".coding-question__question-pane",position:"right",key:"problem"},{selector:".coding-question__main-splitter",position:"right",key:"slider"},{selector:".select-language",position:"left",key:"language"},{selector:".hr-monaco-editor-parent",position:"left",key:"editor"},{selector:".autocomplete-status",position:"bottom",key:"autocomplete"},{selector:".hr-monaco-settings-editor",position:"bottom",key:"toggle_settings"},{selector:".coding-question-footer__run",position:"top",key:"run_code"},{selector:".coding-question-footer__submit-btn",position:"top",key:"submit"}].filter((function(e){return!!e})).map((function(e){var t=e.selector,n=e.position,a=e.key;return{selector:t,position:n,heading:o("question.coding.tour.step_".concat(a,".heading")),content:o("question.coding.tour.step_".concat(a,".content"))}}))),n}return f()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.attemptId,n=e.questionId,o=Object(Z.e)(t,n);this.questionAlreadySeen=_.a.get(o);var a=Object(Z.c)(t,n),i=_.a.get(a);i&&"string"==typeof i&&this.updateCustomInputValue(i),D.a.bind(["mod","enter"],this.handleRunKey),D.a.bind(["mod","s"],this.cancelKeyEvent),window.addEventListener("beforeunload",this.persistCustomInput),Oe.c.on(K.g.COUNTDOWN,this.handleCountdown)}},{key:"componentDidUpdate",value:function(e,t){var n=this.editorRef.current,o=this.state,a=o.currentTab,i=o.diffData,r=o.shouldAutoExpand,s=o.shouldRightPaneAutoCollapse;n&&(t.diffData!==i&&null===i||t.shouldAutoExpand!==r&&(a!==K.c.TAB_TEST_INPUT||!r)||t.shouldRightPaneAutoCollapse!==s)&&n.focus()}},{key:"componentWillUnmount",value:function(){Oe.c.off(K.g.COUNTDOWN,this.handleCountdown),this.pollingCompileTestTimeoutId&&clearTimeout(this.pollingCompileTestTimeoutId),this.compileTestXhr&&this.compileTestXhr.abort(),D.a.unbind(["mod","enter"],this.handleRunKey),D.a.unbind(["mod","s"],this.cancelKeyEvent),this.keydownTrackTimeoutID&&clearTimeout(this.keydownTrackTimeoutID),this.persistCustomInput(),window.removeEventListener("beforeunload",this.persistCustomInput)}},{key:"getEditorOptions",value:function(){var e=this.props,t=e.attemptId,n=e.questionId;return{languages:e.questionData.languages,autoSaveNamespace:"".concat(t,"-").concat(n),showModes:!0}}},{key:"resetOutputData",value:function(){var e=this.props.t;this.setState({disableRunCode:!0,outputData:null,currentTab:K.c.TAB_TEST_OUTPUT,liveStatus:Object(H.k)(e("live_status.uploading"),this.testCasesCount),shouldAutoExpand:!0,showRunAllTestCaseAlertDialog:!1})}},{key:"updateCustomInputValue",value:function(e){this.setState({customInput:e,useCustomInput:!!e})}},{key:"setPingData",value:function(){this.editorRef.current&&(0,this.props.setAnswerToPing)(this.editorRef.current.getCode())}},{key:"startPollingCompileTest",value:function(e,t){var n=this;if(this.pollingCompileTestTimeoutId){var o=this.props,a=o.attemptId,i=o.questionData,r=i.uniqueId,s=i.type,u=o.t,l=o.test.hideHiddenTestCase;t&&this.setState({liveStatus:Object(H.k)(t,this.testCasesCount,u("live_status.processing"))});var d=this.state.useCustomInput,c={attemptId:a,questionId:r,compileTestId:e};this.compileTestXhr=function(e){return Object(Ee.c)({url:Object(_e.b)("compileSingleTest",e)})}(c),this.compileTestXhr.then((function(t){var o=t.model,i=o.status,c=o.status_string;i===Re.i?(n.pollingCompileTestTimeoutId&&clearTimeout(n.pollingCompileTestTimeoutId),n.pollingCompileTestTimeoutId=null,n.setState({liveStatus:{},outputData:Object(H.i)(t.model,u,s,d,l),disableRunCode:!1}),d||_.a.set(Object(Z.g)(a,r),!0)):n.pollingCompileTestTimeoutId=setTimeout((function(){n.startPollingCompileTest(e,c)}),1e3*ke.i)})).catch((function(e){n.restoreRunCodeState(Object(H.k)(u("live_status.server_error"))),console.error(e)}))}}},{key:"restoreRunCodeState",value:function(e){this.setState({disableRunCode:!1,outputData:null,liveStatus:e})}},{key:"adjustEditorLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state,n=t.shouldAutoExpand,o=t.shouldRightPaneAutoCollapse,a={};n&&(a.shouldAutoExpand=!1),o&&(a.shouldRightPaneAutoCollapse=!1),this.setState(a),this.editorRef.current&&this.editorRef.current.adjustHeight(e)}},{key:"incrementKeyStrokes",value:function(e){e.ctrlKey||e.metaKey||this.keyStrokesCount++}},{key:"sendFirstTypeEvent",value:function(){var e=this.props,t=e.attemptId,n=e.questionId,o=e.activityLogger,a=Object(Z.e)(t,n);_.a.get(a)||(_.a.set(a,!0),this.questionAlreadySeen=!0,o(Ie.a.FIRST_TYPE,{questionId:n}))}},{key:"renderRunAllTestCaseDialog",value:function(){var e=this.props.t;return b.a.createElement(S.a,{title:e("actions.run_all_test_cases.title"),open:!0,size:"medium",className:"coding-question__alert",cancelText:e("actions.run_all_test_cases.secondary_text"),confirmText:e("actions.run_all_test_cases.primary_text"),onClose:this.onCloseRunAllTestCasesDialog,onConfirm:this.handleRunTestCase,onCancel:this.handleForceSubmit},e("actions.run_all_test_cases.content"))}},{key:"renderEditor",value:function(){var e=this.props,t=e.questionData,n=e.attemptId,o=e.appUtil.assetPath,a=e.test,i=a.allowHeadTailEditing,r=a.isSampleTest,s=e.t,u=t.solve,l=t.templates,d=t.type,c=this.getEditorOptions(),p=[Re.b.CODING,Re.b.APPROX].includes(d);return b.a.createElement(ce,{ref:this.editorRef,t:s,editorConfig:c,languageTemplate:l,submission:u&&u.answer,onCodeChange:this.onCodeChange,assetPath:o,attemptId:n,isReadOnlyEditable:i,showTour:p,onPaste:this.handleEditorPaste,onKeyDown:this.handleEditorKeyDown,onAnalytics:this.trackEditorEvents,onViewDiff:this.onViewDiff,onReadonlyFirstType:this.onReadonlyFirstType,onTourStart:this.onTourStart,isSampleTest:r})}},{key:"renderFooter",value:function(){var e=this.state,t=e.disableRunCode,n=e.disableSubmitCode,o=e.currentTab,a=e.useCustomInput,i=this.props,r=i.t,s=i.questionData.type,u=r(n?"actions.redirecting":"actions.submit_code");return b.a.createElement(Le,{t:r,disableRunCode:t,disableSubmitCode:n,onSubmitCode:this.handleSubmitCode,onRunCode:this.handleRunCode,submitButtonText:u,onTabChange:this.switchTab,activeTab:o,useCustomInput:a,onInputTypeChange:this.changeInputTypeAndRunCode,questionType:s})}},{key:"renderIOWrapper",value:function(){var e=this.state.currentTab;if(e===K.c.TAB_NONE)return null;var t=this.props,n=t.t,o=t.questionData,a=t.companyName,i=t.enableHiddenTestcaseReveal,r=t.attemptId,s=t.test.hideHiddenTestCase,u=this.state,l=u.useCustomInput,d=u.customInput,c=u.liveStatus,p=u.outputData,m=o.uniqueId,f=o.type,h=o.functionName,g=o.functionParams,v=o.visualInputSupported;return b.a.createElement("div",{className:"d-flex flex-column coding-question__io-area"},b.a.createElement(B,{t:n,questionType:f,customInput:d,useCustomInput:l,liveStatus:c,currentTab:e,visualInputSupported:v,functionName:h,functionParams:g,outputData:p,companyName:a,enableHiddenTestcaseReveal:i,questionId:m,attemptId:r,onInputChange:this.onInput,unlockTestCase:De,handleRunTestCase:this.handleRunTestCase,hideHiddenTestCase:s}))}},{key:"renderDiffModal",value:function(){var e=this.state,t=e.showReadOnlyChangeModal,n=e.diffData,o=this.props.t;return t||!n?null:b.a.createElement(Se,{t:o,diffData:n,onClose:this.hideDiffModal,onUpdate:this.handleCodeUpdate})}},{key:"renderReadonlyChangeModal",value:function(){var e=this.props.t;return b.a.createElement(S.a,{title:e("statements.warning"),open:!0,size:"medium",className:"coding-question__alert",cancelText:e("actions.view_diff"),confirmText:e("actions.continue_modify"),onClose:this.onReadonlyWarningClose,onConfirm:this.onReadonlyWarningClose,onCancel:this.onReadonlyWarningCancel},e("question.coding.modify_stub_warning")," ",b.a.createElement(T.MenuMoreIcon,{className:"editor-settings"}))}},{key:"renderTour",value:function(){var e=this.state.showTour,t=this.props.t;return e?b.a.createElement(U,{t:t,steps:this.tourSteps,isOpen:e,onClose:this.onTourClose}):null}},{key:"render",value:function(){var e=this.state,t=e.leftPaneShrinked,n=e.shouldAutoExpand,o=e.showRunAllTestCaseAlertDialog,a=e.shouldRightPaneAutoCollapse,i=e.showReadOnlyChangeModal,r=this.props,s=r.questionData,u=r.questionNumber,l=r.t,d=s.name,c=s.uniqueId,p=s.question,m=s.type;return b.a.createElement("div",{className:"coding-question"},this.renderTour(),b.a.createElement(I.b,{percentage:!0,primaryMinSize:3,secondaryInitialSize:m===Re.b.DATABASE?50:70,secondaryMinSize:30,vertical:!1,onSecondaryPaneSizeChange:this.onMainSplitSizeChange,onDragEnd:this.onPrimarySplitDragEnd,shouldAutoCollapse:a,primaryPaneClassName:"coding-question__question-pane",secondaryPaneClassName:"coding-question__editor-pane",splitterClassName:"coding-question__main-splitter"},b.a.createElement(pe.a,{className:"coding-question__left-pane",questionNumber:u,questionTitle:d,questionStatement:p,questionId:c,shrinked:t,onVerticalBarClick:this.onLeftPaneVerticalBarClick,t:l}),b.a.createElement("div",{className:"d-flex flex-column coding-question__right-pane"},b.a.createElement("div",{className:"d-flex coding-question__editor-area"},b.a.createElement(I.b,{className:"coding-question__solution-split",percentage:!0,primaryMinSize:50,secondaryInitialSize:0,vertical:!0,onSecondaryPaneSizeChange:this.onCodingAreaSizeChange,onDragEnd:this.onCodingAreaSizeChange,shouldAutoExpand:n},b.a.createElement(v.Fragment,null,this.renderEditor(),this.renderFooter()),this.renderIOWrapper())))),o&&this.renderRunAllTestCaseDialog(),this.renderDiffModal(),i&&this.renderReadonlyChangeModal())}}]),t}(v.PureComponent);function xe(e){var t=e.test,n=e.candidate,o=n.attempt,a=n.sections;return{enableHiddenTestcaseReveal:t.enableHiddenTestcaseReveal,companyName:t.companyName,isSecure:o.isSecure,currentTimeLeft:a.currentSectionTimeLeft}}g()(Me,"defaultProps",{markAnswerDirty:C.a});t.default=Object(E.a)(Object(O.connect)(xe),w.a)(Me)}}]);
//# sourceMappingURL=https://preview-hrw.hackerrank.com/test/candidate-assets/sourcemaps/coding_question_view-01e90717.js.map